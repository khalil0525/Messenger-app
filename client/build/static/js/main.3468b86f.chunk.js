(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),s=n.n(c),o=(n(137),n(5)),i=n(11),l=n(236),u=n(28),d=n(120),j=Object(d.a)({typography:{fontFamily:"Open Sans, sans-serif",fontSize:14,button:{textTransform:"none",letterSpacing:0,fontWeight:"bold"}},overrides:{MuiInput:{input:{fontWeight:"bold"}}},palette:{primary:{main:"#3A8DFF"},secondary:{main:"#B0B0B0"}}}),b=n(24),h=n(9),p=n(20),f=n.n(p),m=n(17),x=n(12),g=n(224),O=n(226),v=n(238),w=n(123),y=n(1),C=Object(g.a)((function(e){var t;return{root:{height:"100vh"},bgGrid:{backgroundSize:"cover",backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundPosition:"center"},bgBox:(t={},Object(x.a)(t,e.breakpoints.down("xs"),{display:"none"}),Object(x.a)(t,e.breakpoints.up("sm"),{display:"flex"}),Object(x.a)(t,"minHeight","100vh"),Object(x.a)(t,"alignItems","center"),Object(x.a)(t,"flexDirection","column"),Object(x.a)(t,"backgroundSize","cover"),Object(x.a)(t,"justifyContent","center"),Object(x.a)(t,"backgroundImage","linear-gradient(180deg, rgb(58,141,255, 0.75) 0%, rgb(134,185,255, 0.75) 100%)"),Object(x.a)(t,"backgroundPosition","center"),t),text:{color:"#ffffff",maxWidth:"300px",marginTop:"30px",textAlign:"center"}}})),k=function(e){var t=e.WrappedComponent,n=C();return Object(y.jsxs)(O.a,{container:!0,className:n.root,children:[Object(y.jsx)(O.a,{item:!0,xs:!1,sm:4,md:7,className:n.bgGrid,children:Object(y.jsxs)(v.a,{className:n.bgBox,children:[Object(y.jsx)("img",{width:"67",src:"https://res.cloudinary.com/dna1o7hrm/image/upload/v1612406581/r1hhd9ry5wxux0tqhju0.png",alt:"chat bubble"}),Object(y.jsx)(w.a,{variant:"h4",className:n.text,children:"Welcome to ChatApp"})]})}),Object(y.jsx)(O.a,{item:!0,xs:12,sm:8,md:5,children:t})]})},S=n(239),N=n(228),I=n(237),T=n(231),W=Object(g.a)((function(e){return{root:{height:"100vh"},headerContainer:{display:"flex",alignItems:"flex-start",paddingTop:"23px",flexDirection:"column",justifyContent:"space-between"},headerInner:{padding:"8px",alignSelf:"center",alignItems:"center"},headerContent:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},text:{color:"#b0b0b0",textAlign:"center",fontWeight:"400",whiteSpace:"nowrap",marginRight:"21px"},formBox:{display:"flex",margin:"64px 32px",alignItems:"center",flexDirection:"column"},welcomeText:{color:"#000000",fontSize:"26px",fontWeight:"600",paddingBottom:"20px"}}})),U=function(e){var t=e.user,n=e.register,a=Object(m.g)(),c=W(),s=Object(r.useState)({}),l=Object(h.a)(s,2),d=l[0],j=l[1],b=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var r,a,c,s,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.currentTarget,a=r.elements,c=a.username.value,s=a.email.value,i=a.password.value,l=a.confirmPassword.value,i===l){e.next=10;break}return j({confirmPassword:"Passwords must match"}),e.abrupt("return");case 10:return e.next=12,n({username:c,email:s,password:i});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&t.id&&t.active&&a.push("/home")}),[t,a]),Object(r.useEffect)((function(){t&&t.id&&!t.active&&a.push("/")}),[t,a]),Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:c.root,children:Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a,{container:!0,className:c.headerContainer,children:Object(y.jsx)(v.a,{className:c.headerInner,children:Object(y.jsxs)(v.a,{className:c.headerContent,children:[Object(y.jsx)(w.a,{variant:"body1",className:c.text,children:"Need to log in?"}),Object(y.jsx)(S.a,{component:u.b,to:"/login",children:"Login"})]})})}),Object(y.jsx)(v.a,{className:c.contentContainer,children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"center",alignItems:"center",className:c.formBox,children:[Object(y.jsx)(w.a,{variant:"h4",className:c.welcomeText,children:"Register your account"}),Object(y.jsx)("form",{onSubmit:b,className:c.form,children:Object(y.jsxs)(O.a,{container:!0,spacing:2,children:[Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(N.a,{fullWidth:!0,children:Object(y.jsx)(I.a,{"aria-label":"username",label:"Username",name:"username",type:"text",required:!0})})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(N.a,{fullWidth:!0,children:Object(y.jsx)(I.a,{label:"E-mail address","aria-label":"e-mail address",type:"email",name:"email",required:!0})})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsxs)(N.a,{error:!!d.confirmPassword,fullWidth:!0,children:[Object(y.jsx)(I.a,{"aria-label":"password",label:"Password",type:"password",inputProps:{minLength:6},name:"password",required:!0}),Object(y.jsx)(T.a,{children:d.confirmPassword})]})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsxs)(N.a,{error:!!d.confirmPassword,fullWidth:!0,children:[Object(y.jsx)(I.a,{label:"Confirm Password","aria-label":"confirm password",type:"password",inputProps:{minLength:6},name:"confirmPassword",required:!0}),Object(y.jsx)(T.a,{children:d.confirmPassword})]})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Create"})})]})})]})})]})})},D=n(232),P=Object(g.a)((function(e){return{root:{height:"100vh"},headerContainer:{display:"flex",alignItems:"flex-start",paddingTop:"23px",flexDirection:"column",justifyContent:"space-between"},headerInner:{padding:"8px",alignSelf:"center",alignItems:"center"},headerContent:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},text:{color:"#b0b0b0",textAlign:"center",fontWeight:"400",whiteSpace:"nowrap",marginRight:"21px"},formBox:{display:"flex",margin:"64px 32px",alignItems:"center",flexDirection:"column"},welcomeText:{color:"#000000",fontSize:"26px",fontWeight:"600",paddingBottom:"20px"},forgotPasswordLink:{marginTop:e.spacing(2),color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),B=function(e){var t=e.user,n=e.login,a=Object(m.g)(),c=P(),s=Object(r.useState)(!1),l=Object(h.a)(s,2),d=l[0],j=l[1],b=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var r,a,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.currentTarget,a=r.elements,c=a.username.value,s=a.password.value,j(!0),e.prev=6,e.next=9,n({username:c,password:s});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:return e.prev=13,j(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[6,11,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&t.id&&t.active&&a.push("/home")}),[t,a]),Object(r.useEffect)((function(){t&&t.id&&!t.active&&a.push("/")}),[t,a]),Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:c.root,children:Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a,{container:!0,item:!0,className:c.headerContainer,children:Object(y.jsx)(v.a,{className:c.headerInner,children:Object(y.jsxs)(v.a,{className:c.headerContent,children:[Object(y.jsx)(w.a,{variant:"body1",className:c.text,children:"Need to register?"}),Object(y.jsx)(u.b,{href:"/register",to:"/register",children:Object(y.jsx)(S.a,{children:"Register"})})]})})}),Object(y.jsx)(v.a,{className:c.contentContainer,children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"center",alignItems:"center",className:c.formBox,children:[Object(y.jsx)(w.a,{variant:"h4",className:c.welcomeText,children:"Welcome Back!"}),Object(y.jsx)("form",{onSubmit:b,className:c.form,children:Object(y.jsxs)(O.a,{container:!0,spacing:2,children:[Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(N.a,{margin:"normal",required:!0,fullWidth:!0,children:Object(y.jsx)(I.a,{"aria-label":"username",label:"Username",name:"username",type:"text",variant:"outlined"})})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(N.a,{margin:"normal",required:!0,fullWidth:!0,children:Object(y.jsx)(I.a,{label:"Password","aria-label":"password",type:"password",name:"password",variant:"outlined"})})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:d,fullWidth:!0,children:"Login"})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(D.a,{component:u.b,to:"/password-recovery",className:c.forgotPasswordLink,children:"Forgot your password?"})})]})})]})})]})})},F=Object(g.a)((function(e){return{root:{height:"100vh",backgroundColor:e.palette.background.default},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},welcomeText:{color:e.palette.primary.main,fontSize:"26px",fontWeight:"600",marginBottom:e.spacing(3)},form:{width:"100%",maxWidth:"400px",padding:e.spacing(3),borderRadius:e.spacing(1),backgroundColor:e.palette.background.paper,boxShadow:e.shadows[3]},submitButton:{marginTop:e.spacing(3)},statusText:{marginTop:e.spacing(2),color:e.palette.error.main}}})),E=function(e){var t=e.recoveryChangePassword,n=F(),a=Object(r.useState)(""),c=Object(h.a)(a,2),s=c[0],l=c[1],u=Object(r.useState)(""),d=Object(h.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(""),f=Object(h.a)(p,2),x=f[0],g=f[1],v=Object(m.h)(),C=new URLSearchParams(v.search).get("token"),k=Object(m.g)(),T=function(){var e=Object(i.a)(Object(o.a)().mark((function e(n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s===j){e.next=4;break}return g("Passwords do not match. Please try again."),e.abrupt("return");case 4:return e.prev=4,e.next=7,t(C,s);case 7:g("Password changed successfully."),setTimeout((function(){k.push("/")}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),g("Failed to change password.");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:n.root,children:Object(y.jsxs)("div",{className:n.form,children:[Object(y.jsx)(w.a,{variant:"h4",className:n.welcomeText,children:"Change Password"}),Object(y.jsxs)("form",{onSubmit:T,children:[Object(y.jsx)(N.a,{margin:"normal",required:!0,children:Object(y.jsx)(I.a,{label:"New Password","aria-label":"new-password",type:"password",value:s,onChange:function(e){return l(e.target.value)},fullWidth:!0})}),Object(y.jsx)(N.a,{margin:"normal",required:!0,children:Object(y.jsx)(I.a,{label:"Confirm Password","aria-label":"confirm-password",type:"password",value:j,onChange:function(e){return b(e.target.value)},fullWidth:!0})}),Object(y.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",className:n.submitButton,fullWidth:!0,children:"Change Password"})]}),Object(y.jsx)(w.a,{variant:"body2",className:n.statusText,children:x})]})})},R=Object(g.a)((function(e){return{root:{height:"100vh"},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},welcomeText:{color:"#000000",fontSize:"26px",fontWeight:"600",paddingBottom:"20px"},resendButton:{marginTop:e.spacing(2)}}})),A=function(e){var t=e.user,n=e.resendVerification,a=R(),c=Object(r.useState)(""),s=Object(h.a)(c,2),l=s[0],u=s[1],d=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:u("Verification link resent! Check your email."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u("Failed to resend verification link.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:a.root,children:Object(y.jsx)(v.a,{className:a.contentContainer,children:Object(y.jsxs)(O.a,{container:!0,justifyContent:"center",direction:"column",children:[Object(y.jsx)(w.a,{variant:"body1",className:a.welcomeText,children:"You must verify your email to access the application."}),Object(y.jsx)(w.a,{variant:"body2",children:l}),Object(y.jsx)(S.a,{variant:"contained",color:"primary",className:a.resendButton,onClick:d,children:"Resend Verification Link"})]})})})},z=Object(g.a)((function(e){return{root:{height:"100vh"},headerContainer:{display:"flex",alignItems:"flex-start",paddingTop:"23px",flexDirection:"column",justifyContent:"space-between"},headerInner:{padding:"8px",alignSelf:"center",alignItems:"center"},headerContent:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},text:{color:"#b0b0b0",textAlign:"center",fontWeight:"400",whiteSpace:"nowrap",marginRight:"21px"},formBox:{display:"flex",margin:"64px 32px",alignItems:"center",flexDirection:"column"},welcomeText:{color:"#000000",fontSize:"26px",fontWeight:"600",paddingBottom:"20px"},statusText:{marginTop:e.spacing(2),color:e.palette.text.secondary,textAlign:"center"}}})),L=function(e){var t=e.recoverPassword,n=z(),a=Object(r.useState)(""),c=Object(h.a)(a,2),s=c[0],l=c[1],d=Object(r.useState)(""),j=Object(h.a)(d,2),b=j[0],p=j[1],f=Object(m.g)(),x=Object(r.useState)(!1),g=Object(h.a)(x,2),C=g[0],k=g[1],T=function(){var e=Object(i.a)(Object(o.a)().mark((function e(n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(!0),e.prev=2,e.next=5,t(s);case 5:p("Password recovery instructions sent to your email."),setTimeout((function(){f.push("/login")}),3e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),p("Failed to initiate password recovery.");case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:n.root,children:Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a,{container:!0,className:n.headerContainer,children:Object(y.jsx)(v.a,{className:n.headerInner,children:Object(y.jsxs)(v.a,{className:n.headerContent,children:[Object(y.jsx)(w.a,{variant:"body1",className:n.text,children:"Need to log in?"}),Object(y.jsx)(S.a,{component:u.b,to:"/login",children:"Login"})]})})}),Object(y.jsxs)(v.a,{className:n.contentContainer,children:[Object(y.jsxs)(O.a,{container:!0,justifyContent:"center",alignItems:"center",className:n.formBox,children:[Object(y.jsx)(w.a,{variant:"h4",className:n.welcomeText,children:"Recover Password"}),Object(y.jsx)("form",{className:n.form,onSubmit:T,children:Object(y.jsxs)(O.a,{container:!0,spacing:2,children:[Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(N.a,{fullWidth:!0,margin:"normal",required:!0,children:Object(y.jsx)(I.a,{label:"Email","aria-label":"email",type:"email",variant:"outlined",value:s,onChange:function(e){return l(e.target.value)}})})}),Object(y.jsx)(O.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,disabled:C,children:"Send Recovery Email"})})]})})]}),Object(y.jsx)(w.a,{variant:"body2",className:n.statusText,children:b})]})]})})},M=n(21),q=n(235),G=n(233),V=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginLeft:20,flexGrow:1},username:{fontWeight:"bold",letterSpacing:-.2},previewText:{fontSize:12,color:"#9CADC8",letterSpacing:-.17},boldPreviewText:{color:"black",fontWeight:"600"},badgeRoot:{alignSelf:"center",marginRight:40},badgeInner:{backgroundColor:"#3F92FF",color:"#fff"}}})),Y=function(e){var t,n,a=e.conversation,c=V(),s=a.otherUser,o=a.id&&a.latestMessageText,i=(null===(t=a.messages[a.messages.length-1])||void 0===t?void 0:t.senderId)===s.id&&!(null!==(n=a.messages[a.messages.length-1])&&void 0!==n&&n.isRead),l=Object(r.useMemo)((function(){return i?a.messages.filter((function(e){return!e.isRead})).length:0}),[a.messages,i]);return Object(y.jsxs)(v.a,{className:c.root,children:[Object(y.jsxs)(v.a,{children:[Object(y.jsx)(w.a,{className:c.username,children:s.username}),Object(y.jsx)(w.a,{className:"".concat(i&&c.boldPreviewText," ").concat(c.previewText),children:o})]}),Object(y.jsx)(G.a,{badgeContent:l,classes:{root:c.badgeRoot,badge:c.badgeInner}})]})},J=n(74),H=n.n(J),$=Object(g.a)((function(){return{root:{height:44,marginTop:23,marginLeft:6,display:"flex",alignItems:"center"},subContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},username:{letterSpacing:-.23,fontSize:16,fontWeight:"bold",marginLeft:17},ellipsis:{color:"#95A7C4",marginRight:24,opacity:.5}}})),K=function(e){var t=e.user,n=$();return Object(y.jsxs)(v.a,{className:n.root,children:[Object(y.jsx)(le,{photoUrl:null===t||void 0===t?void 0:t.photoUrl,online:!0}),Object(y.jsxs)(v.a,{className:n.subContainer,children:[Object(y.jsx)(w.a,{className:n.username,children:null===t||void 0===t?void 0:t.username}),Object(y.jsx)(H.a,{classes:{root:n.ellipsis}})]})]})},Q=n(229),X=n(234),Z=n(115),_=n.n(Z),ee=Object(g.a)((function(){return{filledInput:{height:50,background:"#E9EEF9",borderRadius:5,fontSize:13,fontWeight:"bold",color:"#99A9C4",letterSpacing:0,display:"flex",justifyContent:"center",marginBottom:20},input:{"&::placeholder":{color:"#ADC0DE",opacity:1}}}})),te=function(e){var t=e.handleChange,n=ee();return Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(y.jsx)(N.a,{fullWidth:!0,hiddenLabel:!0,children:Object(y.jsx)(Q.a,{name:"search",onChange:t,classes:{root:n.filledInput,input:n.input},disableUnderline:!0,placeholder:"Search",startAdornment:Object(y.jsx)(X.a,{position:"start",children:Object(y.jsx)(_.a,{})})})})})},ne=Object(g.a)((function(){return{root:{paddingLeft:21,paddingRight:21,flexGrow:1},title:{fontSize:20,letterSpacing:-.29,fontWeight:"bold",marginTop:32,marginBottom:15}}})),re=function(e){var t=e.handleChange,n=e.searchTerm,r=e.conversations,a=void 0===r?[]:r,c=e.user,s=e.setActiveChat,o=ne();return Object(y.jsxs)(v.a,{className:o.root,children:[Object(y.jsx)(K,{user:c}),Object(y.jsx)(w.a,{className:o.title,children:"Chats"}),Object(y.jsx)(te,{handleChange:t}),a.filter((function(e){return e.otherUser.username.includes(n)})).map((function(e){return Object(y.jsx)(se,{conversation:e,setActiveChat:s},e.otherUser.username)}))]})},ae=function(e){var t=e.conversations,n=e.user,a=e.clearSearchedUsers,c=e.addSearchedUsers,s=e.setActiveChat,l=Object(r.useState)(""),u=Object(h.a)(l,2),d=u[0],j=u[1],b=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://kc-chat-app-api.herokuapp.com/api/users/".concat(t));case 3:n=e.sent,r=n.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.target.value){e.next=4;break}return a(),j(""),e.abrupt("return");case 4:if(!d.includes(t.target.value)){e.next=7;break}return j(t.target.value),e.abrupt("return");case 7:return e.next=9,b(t.target.value);case 9:j(t.target.value);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(re,{handleChange:p,searchTerm:d,conversations:t,user:n,setActiveChat:s})},ce=Object(g.a)((function(e){return{root:{borderRadius:8,height:80,boxShadow:"0 2px 10px 0 rgba(88,133,196,0.05)",marginBottom:10,display:"flex",alignItems:"center","&:hover":{cursor:"grab"}}}})),se=function(e){var t=e.conversation,n=e.setActiveChat,r=ce(),a=t.otherUser,c=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.otherUser.username);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(v.a,{onClick:function(){return c(t)},className:r.root,children:[Object(y.jsx)(le,{photoUrl:a.photoUrl,username:a.username,online:a.online,sidebar:!0}),Object(y.jsx)(Y,{conversation:t})]})},oe=n(242),ie=Object(g.a)((function(){return{profilePic:{height:44,width:44},badge:{height:13,width:13,borderRadius:"50%",border:"2px solid white",backgroundColor:"#D0DAE9"},online:{backgroundColor:"#1CED84"},sidebar:{marginLeft:17}}})),le=function(e){var t=e.sidebar,n=e.username,r=e.photoUrl,a=e.online,c=ie();return Object(y.jsx)(v.a,{className:t?c.sidebar:"",children:Object(y.jsx)(G.a,{classes:{badge:"".concat(c.badge," ").concat(a&&c.online)},variant:"dot",anchorOrigin:{horizontal:"right",vertical:"bottom"},overlap:"circular",children:Object(y.jsx)(oe.a,{alt:n,src:r,className:c.profilePic})})})},ue=Object(g.a)((function(){return{root:{display:"flex",flexDirection:"column",alignItems:"flex-end"},date:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},text:{fontSize:14,color:"#91A3C0",letterSpacing:-.2,padding:8,fontWeight:"bold"},bubble:{background:"#F4F6FA",borderRadius:"10px 10px 0 10px"},readAvatar:{height:20,width:20,marginTop:9}}})),de=function(e){var t=e.time,n=e.text,r=e.otherUser,a=e.isLastReadMessage,c=ue();return Object(y.jsxs)(v.a,{className:c.root,children:[Object(y.jsx)(w.a,{className:c.date,children:t}),Object(y.jsx)(v.a,{className:c.bubble,children:Object(y.jsx)(w.a,{className:c.text,children:n})}),a&&Object(y.jsx)(oe.a,{alt:r.username,src:r.photoUrl,className:c.readAvatar})]})},je=Object(g.a)((function(){return{root:{display:"flex"},avatar:{height:30,width:30,marginRight:11,marginTop:6},usernameDate:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},bubble:{backgroundImage:"linear-gradient(225deg, #6CC1FF 0%, #3A8DFF 100%)",borderRadius:"0 10px 10px 10px"},text:{fontSize:14,fontWeight:"bold",color:"#FFFFFF",letterSpacing:-.2,padding:8}}})),be=function(e){var t=e.text,n=e.time,r=e.otherUser,a=je();return Object(y.jsxs)(v.a,{className:a.root,children:[Object(y.jsx)(oe.a,{alt:r.username,src:r.photoUrl,className:a.avatar}),Object(y.jsxs)(v.a,{children:[Object(y.jsxs)(w.a,{className:a.usernameDate,children:[r.username," ",n]}),Object(y.jsx)(v.a,{className:a.bubble,children:Object(y.jsx)(w.a,{className:a.text,children:t})})]})]})},he=Object(g.a)((function(){return{root:{display:"flex",flexGrow:8,flexDirection:"column"},chatContainer:{marginLeft:41,marginRight:41,display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"space-between"}}})),pe=function(e){var t,n=e.user,a=e.conversations,c=e.activeConversation,s=e.postMessage,o=e.patchMessage,i=he(),l=Object(r.useMemo)((function(){return a?a.find((function(e){return e.otherUser.username===c})):{}}),[a,c]);return Object(r.useEffect)((function(){var e=(null===l||void 0===l?void 0:l.messages[l.messages.length-1])||{},t=e.senderId,n=e.isRead;l&&l.otherUser&&t===l.otherUser.id&&!n&&o(t)}),[l,o]),Object(y.jsx)(v.a,{className:i.root,children:(t=l,t!=={}&&void 0!==t&&l.otherUser&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ge,{username:l.otherUser.username,online:l.otherUser.online||!1}),Object(y.jsx)(v.a,{className:i.chatContainer,children:n&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(we,{messages:l.messages,otherUser:l.otherUser,userId:n.id}),Object(y.jsx)(me,{otherUser:l.otherUser,conversationId:l.id||null,user:n,postMessage:s})]})})]}))})},fe=Object(g.a)((function(){return{root:{justifySelf:"flex-end",marginTop:15},input:{height:70,backgroundColor:"#F4F6FA",borderRadius:8,marginBottom:20}}})),me=function(e){var t=e.otherUser,n=e.conversationId,a=e.user,c=e.postMessage,s=fe(),l=Object(r.useState)(""),u=Object(h.a)(l,2),d=u[0],j=u[1],b=function(){var e=Object(i.a)(Object(o.a)().mark((function e(r){var s,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s=r.currentTarget,i=s.elements,l={text:i.text.value,recipientId:t.id,conversationId:n,sender:n?null:a},e.next=6,c(l);case 6:j("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("form",{className:s.root,onSubmit:b,children:Object(y.jsx)(N.a,{fullWidth:!0,hiddenLabel:!0,children:Object(y.jsx)(Q.a,{classes:{root:s.input},disableUnderline:!0,placeholder:"Type something...",value:d,name:"text",onChange:function(e){j(e.target.value)}})})})},xe=Object(g.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",height:89,marginBottom:34,boxShadow:"0 2px 20px 0 rgba(88,133,196,0.10)"},content:{display:"flex",alignItems:"center",marginLeft:24},username:{fontSize:20,letterSpacing:-.29,fontWeight:"bold",marginRight:14},statusText:{fontSize:12,color:"#BFC9DB",letterSpacing:-.17},statusDot:{height:8,width:8,borderRadius:"50%",marginRight:5,backgroundColor:"#D0DAE9"},online:{background:"#1CED84"},ellipsis:{color:"#95A7C4",marginRight:24,opacity:.5}}})),ge=function(e){var t=e.username,n=e.online,r=xe();return Object(y.jsxs)(v.a,{className:r.root,children:[Object(y.jsxs)(v.a,{className:r.content,children:[Object(y.jsx)(w.a,{className:r.username,children:t}),Object(y.jsx)(v.a,{className:"".concat(r.statusDot," ").concat(n&&r.online)}),Object(y.jsx)(w.a,{className:r.statusText,children:n?"Online":"Offline"})]}),Object(y.jsx)(H.a,{classes:{root:r.ellipsis}})]})},Oe=n(116),ve=n.n(Oe),we=function(e){var t=e.messages,n=e.otherUser,a=e.userId,c=Object(r.useMemo)((function(){for(var e=t.length-1;e>=0;e--)if(t[e].isRead&&t[e].senderId===a)return t[e].id;return 0}),[t,a]);return Object(y.jsx)(v.a,{children:t.map((function(e){var t=ve()(e.createdAt).format("h:mm");return e.senderId===a?Object(y.jsx)(de,{text:e.text,time:t,otherUser:n,isLastReadMessage:c===e.id},e.id):Object(y.jsx)(be,{text:e.text,time:t,otherUser:n},e.id)}))})},ye=n(117),Ce=Object(ye.io)("http://localhost:5000");Ce.on("connect",(function(){console.log("connected to server")}));var ke=a.a.createContext(),Se=Object(g.a)((function(e){return{root:{height:"100vh"}}})),Ne=function(e){var t=e.user,n=e.logout,a=Object(m.g)(),c=Object(r.useContext)(ke),s=Object(r.useState)([]),l=Object(h.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)(null),p=Object(h.a)(j,2),x=p[0],g=p[1],v=Se(),w=Object(r.useState)(!1),C=Object(h.a)(w,2),k=C[0],N=C[1],I=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("https://kc-chat-app-api.herokuapp.com/api/messages",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("https://kc-chat-app-api.herokuapp.com/api/messages/read/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t){c.emit("new-message",{message:e.message,recipientId:t.recipientId,sender:e.sender})},U=function(e){c.emit("read-messages",{messages:e.messages,recipientId:e.userId,sender:e.senderId})},D=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:n=e.sent,P(n),U(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),P=Object(r.useCallback)((function(e){var t=e.messages,n=t[0].conversationId;d((function(e){return e.map((function(e){if(e.id===n){var r=Object(b.a)({},e);return r.messages=[].concat(Object(M.a)(r.messages.slice(0,r.messages.length-t.length)),Object(M.a)(t)),r}return e}))}))}),[]),B=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:n=e.sent,t.conversationId?E(n):F(t.recipientId,n.message),W(n,t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),F=Object(r.useCallback)((function(e,t){d((function(n){return n.map((function(n){if(n.otherUser.id===e){var r=Object(b.a)({},n);return r.messages=[t],r.latestMessageText=t.text,r.id=t.conversationId,r}return n}))}))}),[]),E=Object(r.useCallback)((function(e){var t=e.message,n=e.sender,r=void 0===n?null:n;if(null!==r){var a={id:t.conversationId,otherUser:r,messages:[t],latestMessageText:t.text};d((function(e){return[a].concat(Object(M.a)(e))}))}else d((function(e){return e.map((function(e){if(e.id===t.conversationId){var n=Object(b.a)({},e);return n.messages=[].concat(Object(M.a)(n.messages),[t]),n.latestMessageText=t.text,n}return e}))}))}),[]),R=Object(r.useCallback)((function(e){d((function(t){return t.map((function(t){if(t.otherUser.id===e){var n=Object(b.a)({},t);return n.otherUser=Object(b.a)(Object(b.a)({},n.otherUser),{},{online:!0}),n}return t}))}))}),[]),A=Object(r.useCallback)((function(e){d((function(t){return t.map((function(t){if(t.otherUser.id===e){var n=Object(b.a)({},t);return n.otherUser=Object(b.a)(Object(b.a)({},n.otherUser),{},{online:!1}),n}return t}))}))}),[]);Object(r.useEffect)((function(){return c.on("add-online-user",R),c.on("remove-offline-user",A),c.on("new-message",E),c.on("read-messages",P),function(){c.off("add-online-user",R),c.off("remove-offline-user",A),c.off("new-message",E),c.off("read-messages",P)}}),[E,P,R,A,c]),Object(r.useEffect)((function(){null!==t&&void 0!==t&&t.isFetching||(t&&t.id?N(!0):k?a.push("/login"):a.push("/register"))}),[t,a,k]),Object(r.useEffect)((function(){var e=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://kc-chat-app-api.herokuapp.com/api/conversations");case 3:t=e.sent,n=t.data,d(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.isFetching||e()}),[t]);var z=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=3;break}return e.next=3,n(t.id);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S.a,{onClick:z,children:"Logout"}),Object(y.jsxs)(O.a,{container:!0,component:"main",className:v.root,children:[Object(y.jsx)(q.a,{}),Object(y.jsx)(ae,{conversations:u,user:t,clearSearchedUsers:function(){d((function(e){return e.filter((function(e){return e.id}))}))},addSearchedUsers:function(e){var t={};u.forEach((function(e){t[e.otherUser.id]=!0}));var n=Object(M.a)(u);e.forEach((function(e){if(!t[e.id]){var r={otherUser:e,messages:[]};n.push(r)}})),d(n)},setActiveChat:function(e){g(e)}}),Object(y.jsx)(pe,{activeConversation:x,conversations:u,user:t,postMessage:B,patchMessage:D})]})]})},Ie=n(241),Te=n(118),We=n.n(Te),Ue=n(119),De=n.n(Ue),Pe=Object(g.a)((function(e){return{snackbar:{fontWeight:"bold"},icon:{color:"white"},success:{backgroundColor:"green"},error:{backgroundColor:"red"}}})),Be=function(e){var t=e.setSnackBarOpen,n=e.message,r=e.snackBarOpen,c=e.isError,s=Pe(),o=c?Object(y.jsx)(We.a,{color:"secondary"}):Object(y.jsx)(De.a,{});return Object(y.jsx)(Ie.a,{open:r,onClose:function(){return t(!1)},message:n||"An error occurred. Please try again.",action:Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(S.a,{className:s.icon,size:"small",onClick:function(){return t(!1)},children:o})}),ContentProps:{classes:{root:c?s.error:s.success}}})},Fe=Object(g.a)((function(e){return{root:{height:"100vh"},contentContainer:{display:"flex",margin:"64px 32px",alignItems:"center",justifyContent:"center",flexDirection:"column"},successText:{color:"#000000",fontSize:"26px",fontWeight:"600",paddingBottom:"20px"},errorText:{color:"red",fontSize:"18px",paddingBottom:"20px"}}})),Ee=function(e){var t=e.checkVerification,n=Object(m.g)(),a=Object(m.h)(),c=Fe(),s=Object(r.useState)(""),o=Object(h.a)(s,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){if(a.search){var e=new URLSearchParams(a.search).get("token");e?t(e).then((function(){l("success"),setTimeout((function(){n.push("/")}),5e3)})).catch((function(e){console.error(e),l("error"),setTimeout((function(){n.push("/")}),5e3)})):n.push("/")}else n.push("/")}),[n,a.search,t]),Object(y.jsx)(O.a,{container:!0,justifyContent:"center",className:c.root,children:Object(y.jsx)(v.a,{className:c.contentContainer,children:Object(y.jsx)(O.a,{container:!0,justifyContent:"center",direction:"column",children:"success"===i?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w.a,{variant:"body1",className:c.successText,children:"Thank you, your account has been verified!"}),Object(y.jsx)(w.a,{variant:"body2",children:"You will be redirected to the home page shortly."})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w.a,{variant:"body1",className:c.errorText,children:"Email verification failed."}),Object(y.jsx)(w.a,{variant:"body2",children:"You will be redirected to the home page shortly."})]})})})})},Re=Object(m.i)((function(e){var t=Object(r.useState)({isFetching:!0}),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),l=Object(h.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)(!1),p=Object(h.a)(j,2),x=p[0],g=p[1],O=Object(r.useState)(!1),v=Object(h.a)(O,2),w=v[0],C=v[1],S=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/auth/login",t);case 3:return n=e.sent,r=n.data,e.next=7,localStorage.setItem("messenger-token",r.token);case 7:c(r),Ce.emit("go-online",r.id),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),c({error:e.t0.response.data.error||"Server Error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/auth/register",t);case 3:return n=e.sent,r=n.data,e.next=7,localStorage.setItem("messenger-token",r.token);case 7:c(r),Ce.emit("go-online",r.id),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),c({error:e.t0.response.data.error||"Server Error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/auth/password/recover",{email:t});case 3:d("Recovery email sent!"),g(!1),C(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/auth/password/set/".concat(t),{newPassword:n});case 3:d("Password changed successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/auth/verify/resend",{user:t});case 3:n=e.sent,r=n.data,console.log(r),d("Verification resent!"),g(!1),C(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:5000/auth/verify?token=".concat(t));case 3:return n=e.sent,r=n.data,e.next=7,localStorage.setItem("messenger-token",r.token);case 7:c(r),d("Email verified successfully!"),g(!1),C(!0),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),d("Email verification failed. Please try again."),g(!0),C(!0);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("http://localhost:5000/auth/logout");case 3:return e.next=5,localStorage.removeItem("messenger-token");case 5:c({}),Ce.emit("logout",t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isFetching:!0})})),e.prev=1,e.next=4,f.a.get("http://localhost:5000/auth/user");case 4:t=e.sent,n=t.data,c(n),n.id&&Ce.emit("go-online",n.id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isFetching:!1})})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(r.useEffect)((function(){null!==a&&void 0!==a&&a.error&&("string"===typeof a.error?d(a.error):d("Internal Server Error. Please try again"),g(!0),C(!0))}),[null===a||void 0===a?void 0:a.error]),null!==a&&void 0!==a&&a.isFetching?Object(y.jsx)("div",{children:"Loading..."}):(console.log(a),Object(y.jsxs)(ke.Provider,{value:Ce,children:[w&&Object(y.jsx)(Be,{setSnackBarOpen:C,message:u,snackBarOpen:w,isError:x}),Object(y.jsxs)(m.d,{children:[Object(y.jsx)(m.b,{path:"/login",render:function(){return Object(y.jsx)(k,{WrappedComponent:Object(y.jsx)(B,{user:a,login:S})})}}),Object(y.jsx)(m.b,{path:"/register",render:function(){return Object(y.jsx)(k,{WrappedComponent:Object(y.jsx)(U,{user:a,register:N})})}}),Object(y.jsx)(m.b,{path:"/verify",render:function(){return!a||null===a||void 0===a||!a.id||null!==a&&void 0!==a&&a.active?Object(y.jsx)(m.a,{to:"/"}):Object(y.jsx)(Ee,{checkVerification:D})}}),Object(y.jsx)(m.b,{path:"/password-recovery",render:function(){return null!==a&&void 0!==a&&a.id&&null!==a&&void 0!==a&&a.active?Object(y.jsx)(m.a,{to:"/home"}):Object(y.jsx)(k,{WrappedComponent:Object(y.jsx)(L,{recoverPassword:I})})}}),Object(y.jsx)(m.b,{path:"/change-password",render:function(){return Object(y.jsx)(E,{recoveryChangePassword:T})}}),Object(y.jsx)(m.b,{exact:!0,path:"/",render:function(e){return null!==a&&void 0!==a&&a.id?null!==a&&void 0!==a&&a.active?Object(y.jsx)(Ne,{user:a,logout:P}):Object(y.jsx)(k,{WrappedComponent:Object(y.jsx)(A,{user:a,resendVerification:W})}):Object(y.jsx)(k,{WrappedComponent:Object(y.jsx)(B,{user:a,login:S})})}}),Object(y.jsx)(m.b,{path:"/home",render:function(){return Object(y.jsx)(Ne,{user:a,logout:P})}})]})]}))}));f.a.interceptors.request.use(function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("messenger-token");case 2:return n=e.sent,t.headers["x-access-token"]=n,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Ae=function(){return Object(y.jsx)(l.a,{theme:j,children:Object(y.jsx)(u.a,{children:Object(y.jsx)(Re,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(y.jsx)(Ae,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[196,1,2]]]);
//# sourceMappingURL=main.3468b86f.chunk.js.map